{"java":"/**\r\n * Definition for singly-linked list with a random pointer.\r\n * class RandomListNode {\r\n *     int label;\r\n *     RandomListNode next, random;\r\n *     RandomListNode(int x) { this.label = x; }\r\n * };\r\n */\r\npublic class Solution {\r\n    public RandomListNode copyRandomList(RandomListNode head) {\r\n        if(head==null)return null;\r\n        RandomListNode current = head;\r\n        while(current!=null){\r\n            RandomListNode temp = new RandomListNode(current.label);\r\n            temp.next = current.next;\r\n            current.next = temp;\r\n            current = temp.next;\r\n        }\r\n        current = head;\r\n        while(current!=null){\r\n            RandomListNode temp = current.random;\r\n            if(temp!=null){\r\n                current.next.random = temp.next;\r\n            }\r\n            current = current.next.next;\r\n        }\r\n        RandomListNode head2 = head.next;\r\n        current = head;\r\n        while(current!=null&&current.next!=null){\r\n            if(current.next.next==null){\r\n                current.next = null;\r\n                break;\r\n            }\r\n            RandomListNode temp = current.next;\r\n            current.next = current.next.next;\r\n            temp.next = temp.next.next;\r\n            current = current.next;\r\n        }\r\n        return head2;\r\n        \r\n    }\r\n}"}