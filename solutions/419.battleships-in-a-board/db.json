{"java":"public class Solution {\r\n    public int countBattleships(char[][] board) {\r\n        int n = board[0].length;//列\r\n        int m = board.length;//行\r\n        int num = 0;\r\n        int[][]visited = new int[m][n];\r\n        for(int i=0;i<m;i++){\r\n            for(int j=0;j<n;j++){\r\n                if(visited[i][j]==0&&board[i][j]=='X'){\r\n                    num++;\r\n                    dfs(board,visited,i,j);\r\n                }\r\n            }\r\n        }\r\n        return num;\r\n    }\r\n    private void dfs(char[][]board,int[][]visited,int i,int j){\r\n        visited[i][j]=1;\r\n        int n = board[0].length;//列\r\n        int m = board.length;//行\r\n        if(i>0&&visited[i-1][j]==0&&board[i-1][j]=='X'){\r\n            dfs(board,visited,i-1,j);\r\n        }if(i<m-1&&visited[i+1][j]==0&&board[i+1][j]=='X'){\r\n             dfs(board,visited,i+1,j);\r\n        }if(j>0&&visited[i][j-1]==0&&board[i][j-1]=='X'){\r\n             dfs(board,visited,i,j-1);\r\n        }if(j<n-1&&visited[i][j+1]==0&&board[i][j+1]=='X'){\r\n             dfs(board,visited,i,j+1);\r\n        }\r\n    }\r\n}"}