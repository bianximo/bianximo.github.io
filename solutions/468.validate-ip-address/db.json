{"java":"public class Solution {\r\n   public String validIPAddress(String IP) {\r\n\tif(isValidIPv4(IP)) return \"IPv4\";\r\n\telse if(isValidIPv6(IP)) return \"IPv6\";\r\n\telse return \"Neither\";\r\n}\r\n\r\npublic boolean isValidIPv4(String ip) {\r\n\tif(ip.length()<7) return false;\r\n\tif(ip.charAt(0)=='.') return false;\r\n\tif(ip.charAt(ip.length()-1)=='.') return false;\r\n\tString[] tokens = ip.split(\"\\\\.\");\r\n\tif(tokens.length!=4) return false;\r\n\tfor(String token:tokens) {\r\n\t\tif(!isValidIPv4Token(token)) return false;\r\n\t}\r\n\treturn true;\r\n}\r\npublic boolean isValidIPv4Token(String token) {\r\n\tif(token.startsWith(\"0\") && token.length()>1) return false;\r\n\ttry {\r\n\t\tint parsedInt = Integer.parseInt(token);\r\n\t\tif(parsedInt<0 || parsedInt>255) return false;\r\n\t\tif(parsedInt==0 && token.charAt(0)!='0') return false;\r\n\t} catch(NumberFormatException nfe) {\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\n\t\r\npublic boolean isValidIPv6(String ip) {\r\n\tif(ip.length()<15) return false;\r\n\tif(ip.charAt(0)==':') return false;\r\n\tif(ip.charAt(ip.length()-1)==':') return false;\r\n\tString[] tokens = ip.split(\":\");\r\n\tif(tokens.length!=8) return false;\r\n\tfor(String token: tokens) {\r\n\t\tif(!isValidIPv6Token(token)) return false;\r\n\t}\r\n\treturn true;\r\n}\r\npublic boolean isValidIPv6Token(String token) {\r\n\tif(token.length()>4 || token.length()==0) return false;\r\n\tchar[] chars = token.toCharArray();\r\n\tfor(char c:chars) {\r\n\t\tboolean isDigit = c>=48 && c<=57;\r\n\t\tboolean isUppercaseAF = c>=65 && c<=70;\r\n\t\tboolean isLowerCaseAF = c>=97 && c<=102;\r\n\t\tif(!(isDigit || isUppercaseAF || isLowerCaseAF)) \r\n\t\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\n}"}