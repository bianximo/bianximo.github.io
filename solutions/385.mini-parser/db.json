{"java":"/**\r\n * // This is the interface that allows for creating nested lists.\r\n * // You should not implement it, or speculate about its implementation\r\n * public interface NestedInteger {\r\n *     // Constructor initializes an empty nested list.\r\n *     public NestedInteger();\r\n *\r\n *     // Constructor initializes a single integer.\r\n *     public NestedInteger(int value);\r\n *\r\n *     // @return true if this NestedInteger holds a single integer, rather than a nested list.\r\n *     public boolean isInteger();\r\n *\r\n *     // @return the single integer that this NestedInteger holds, if it holds a single integer\r\n *     // Return null if this NestedInteger holds a nested list\r\n *     public Integer getInteger();\r\n *\r\n *     // Set this NestedInteger to hold a single integer.\r\n *     public void setInteger(int value);\r\n *\r\n *     // Set this NestedInteger to hold a nested list and adds a nested integer to it.\r\n *     public void add(NestedInteger ni);\r\n *\r\n *     // @return the nested list that this NestedInteger holds, if it holds a nested list\r\n *     // Return null if this NestedInteger holds a single integer\r\n *     public List<NestedInteger> getList();\r\n * }\r\n */\r\npublic class Solution {\r\n    public NestedInteger deserialize(String s) {\r\n        if(s==null||s.length()==0)return null;\r\n        if(s.charAt(0)!='[')return new NestedInteger(Integer.parseInt(s));\r\n        int l = 0;\r\n        NestedInteger cur = null;\r\n        Stack<NestedInteger>stack = new Stack<>();\r\n        for(int j = 0;j<s.length();j++){\r\n            char now = s.charAt(j);\r\n            if(now=='['){\r\n               if(cur!=null)stack.push(cur);\r\n               cur  = new NestedInteger();\r\n               l = j+1;\r\n            }else if(now==']'){\r\n                String num = s.substring(l,j);\r\n                if(num!=null&&num.length()>0){\r\n                    cur.add(new NestedInteger(Integer.parseInt(num)));\r\n                }\r\n                if(!stack.isEmpty()){\r\n                    NestedInteger temp = stack.pop();\r\n                    temp.add(cur);\r\n                    cur = temp;\r\n                }\r\n                l = j+1;\r\n                \r\n            }else if(now==','){\r\n                String num = s.substring(l,j);\r\n                if(num!=null&&num.length()>0){\r\n                    cur.add(new NestedInteger(Integer.parseInt(num)));\r\n                }\r\n                l = j+1;\r\n            }\r\n        }\r\n        return cur;\r\n    }\r\n}"}